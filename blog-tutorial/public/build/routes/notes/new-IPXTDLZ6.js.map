{
  "version": 3,
  "sources": ["../../../../app/routes/notes/new.jsx"],
  "sourcesContent": ["import { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData } from \"@remix-run/react\";\nimport * as React from \"react\";\n\nimport { createNote } from \"~/models/note.server\";\nimport { requireUserId } from \"~/session.server\";\n\nexport async function action({ request }) {\n  const userId = await requireUserId(request);\n\n  const formData = await request.formData();\n  const title = formData.get(\"title\");\n  const body = formData.get(\"body\");\n\n  if (typeof title !== \"string\" || title.length === 0) {\n    return json(\n      { errors: { title: \"Title is required\", body: null } },\n      { status: 400 }\n    );\n  }\n\n  if (typeof body !== \"string\" || body.length === 0) {\n    return json(\n      { errors: { title: null, body: \"Body is required\" } },\n      { status: 400 }\n    );\n  }\n\n  const note = await createNote({ title, body, userId });\n\n  return redirect(`/notes/${note.id}`);\n}\n\nexport default function NewNotePage() {\n  const actionData = useActionData();\n  const titleRef = React.useRef(null);\n  const bodyRef = React.useRef(null);\n\n  React.useEffect(() => {\n    if (actionData?.errors?.title) {\n      titleRef.current?.focus();\n    } else if (actionData?.errors?.body) {\n      bodyRef.current?.focus();\n    }\n  }, [actionData]);\n  console.log(actionData);\n  return (\n    <Form\n      method=\"post\"\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 8,\n        width: \"100%\",\n      }}\n    >\n      <div>\n        <label className=\"flex w-full flex-col gap-1\">\n          <span>Title: </span>\n          <input\n            ref={titleRef}\n            name=\"title\"\n            className=\"flex-1 rounded-md border-2 border-blue-500 px-3 text-lg leading-loose\"\n            aria-invalid={actionData?.errors?.title ? true : undefined}\n            aria-errormessage={\n              actionData?.errors?.title ? \"title-error\" : undefined\n            }\n          />\n        </label>\n        {actionData?.errors?.title && (\n          <div className=\"pt-1 text-red-700\" id=\"title-error\">\n            {actionData.errors.title}\n          </div>\n        )}\n      </div>\n\n      <div>\n        <label className=\"flex w-full flex-col gap-1\">\n          <span>Body: </span>\n          <textarea\n            ref={bodyRef}\n            name=\"body\"\n            rows={8}\n            className=\"w-full flex-1 rounded-md border-2 border-blue-500 py-2 px-3 text-lg leading-6\"\n            aria-invalid={actionData?.errors?.body ? true : undefined}\n            aria-errormessage={\n              actionData?.errors?.body ? \"body-error\" : undefined\n            }\n          />\n        </label>\n        {actionData?.errors?.body && (\n          <div className=\"pt-1 text-red-700\" id=\"body-error\">\n            {actionData.errors.body}\n          </div>\n        )}\n      </div>\n\n      <div className=\"text-right\">\n        <button\n          type=\"submit\"\n          className=\"rounded bg-blue-500 py-2 px-4 text-white hover:bg-blue-600 focus:bg-blue-400\"\n        >\n          Save\n        </button>\n      </div>\n    </Form>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAEA,YAAuB;AAEvB,kBAA2B;AAC3B,qBAA8B;AAL9B;AAiCe,SAAR,cAA+B;AAjCtC;AAkCE,QAAM,aAAa,cAAc;AACjC,QAAM,WAAiB,aAAO,IAAI;AAClC,QAAM,UAAgB,aAAO,IAAI;AAEjC,EAAM,gBAAU,MAAM;AAtCxB,QAAAA,KAAAC,KAAAC,KAAAC;AAuCI,SAAIH,MAAA,yCAAY,WAAZ,gBAAAA,IAAoB,OAAO;AAC7B,OAAAC,MAAA,SAAS,YAAT,gBAAAA,IAAkB;AAAA,IACpB,YAAWC,MAAA,yCAAY,WAAZ,gBAAAA,IAAoB,MAAM;AACnC,OAAAC,MAAA,QAAQ,YAAR,gBAAAA,IAAiB;AAAA,IACnB;AAAA,EACF,GAAG,CAAC,UAAU,CAAC;AACf,UAAQ,IAAI,UAAU;AACtB,SACE,mDAAC;AAAA,IACC,QAAO;AAAA,IACP,OAAO;AAAA,MACL,SAAS;AAAA,MACT,eAAe;AAAA,MACf,KAAK;AAAA,MACL,OAAO;AAAA,IACT;AAAA,IAEA;AAAA,yDAAC;AAAA,QACC;AAAA,6DAAC;AAAA,YAAM,WAAU;AAAA,YACf;AAAA,iEAAC;AAAA,gBAAK;AAAA,iBAAN;AAAA;AAAA;AAAA;AAAA,qBAAa;AAAA,cACb,mDAAC;AAAA,gBACC,KAAK;AAAA,gBACL,MAAK;AAAA,gBACL,WAAU;AAAA,gBACV,kBAAc,8CAAY,WAAZ,mBAAoB,SAAQ,OAAO;AAAA,gBACjD,uBACE,8CAAY,WAAZ,mBAAoB,SAAQ,gBAAgB;AAAA,iBANhD;AAAA;AAAA;AAAA;AAAA,qBAQA;AAAA;AAAA,aAVF;AAAA;AAAA;AAAA;AAAA,iBAWA;AAAA,YACC,8CAAY,WAAZ,mBAAoB,UACnB,mDAAC;AAAA,YAAI,WAAU;AAAA,YAAoB,IAAG;AAAA,YACnC,qBAAW,OAAO;AAAA,aADrB;AAAA;AAAA;AAAA;AAAA,iBAEA;AAAA;AAAA,SAhBJ;AAAA;AAAA;AAAA;AAAA,aAkBA;AAAA,MAEA,mDAAC;AAAA,QACC;AAAA,6DAAC;AAAA,YAAM,WAAU;AAAA,YACf;AAAA,iEAAC;AAAA,gBAAK;AAAA,iBAAN;AAAA;AAAA;AAAA;AAAA,qBAAY;AAAA,cACZ,mDAAC;AAAA,gBACC,KAAK;AAAA,gBACL,MAAK;AAAA,gBACL,MAAM;AAAA,gBACN,WAAU;AAAA,gBACV,kBAAc,8CAAY,WAAZ,mBAAoB,QAAO,OAAO;AAAA,gBAChD,uBACE,8CAAY,WAAZ,mBAAoB,QAAO,eAAe;AAAA,iBAP9C;AAAA;AAAA;AAAA;AAAA,qBASA;AAAA;AAAA,aAXF;AAAA;AAAA;AAAA;AAAA,iBAYA;AAAA,YACC,8CAAY,WAAZ,mBAAoB,SACnB,mDAAC;AAAA,YAAI,WAAU;AAAA,YAAoB,IAAG;AAAA,YACnC,qBAAW,OAAO;AAAA,aADrB;AAAA;AAAA;AAAA;AAAA,iBAEA;AAAA;AAAA,SAjBJ;AAAA;AAAA;AAAA;AAAA,aAmBA;AAAA,MAEA,mDAAC;AAAA,QAAI,WAAU;AAAA,QACb,6DAAC;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACX;AAAA,WAHD;AAAA;AAAA;AAAA;AAAA,eAKA;AAAA,SANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA;AAAA,KAzDF;AAAA;AAAA;AAAA;AAAA,SA0DA;AAEJ;",
  "names": ["_a", "_b", "_c", "_d"]
}
